define("theme_apoa/mymodal",["jquery","theme_apoa/swiper"],(function($,Swiper){return{init:function(){const jumbo=document.getElementById("jumbo"),subjumbo=document.getElementById("jumbomodal"),menuItems=document.querySelectorAll(".sidejumboitemcontainer"),closemodal=document.getElementById("closemodal");var isClicked={},istouchevent=!1;console.log(Swiper);var mySwiper=new Swiper(".swiper-container",{loop:!0,pagination:{div:".swiper-pagination",clickable:!0},preventClicks:!0});function closemodalfunc(){subjumbo.addEventListener("animationend",(function handleAnimationEnd(){subjumbo.classList.replace("hiding","hide"),subjumbo.removeEventListener("animationend",handleAnimationEnd)})),subjumbo.classList.remove("drag"),subjumbo.classList.add("hiding"),subjumbo.classList.remove("show"),isClicked={}}$("#pagination-0").hover((function(){mySwiper.slideToLoop(0)})),$("#pagination-1").hover((function(){mySwiper.slideToLoop(1)})),$("#pagination-2").hover((function(){mySwiper.slideToLoop(2)})),mySwiper.on("slideChange",(function(){(isClicked={})[mySwiper.realIndex]=!0})),$(".sidejumbo-link").on("touchstart",(function(){istouchevent=!0})),$(".sidejumbo-link").on("touchend",(function(){istouchevent=!1;var linkId=$(this).data("link-id"),linkAddress=$(this).data("link-address");istouchevent=!0,1==isClicked[linkId]&&(window.location.href=linkAddress)})),$(".sidejumbo-link").on("click",(function(){var linkAddress=$(this).data("link-address");istouchevent||(window.location.href=linkAddress)})),null!==closemodal&&(closemodal.addEventListener("touchstart",(function(event){closemodalfunc(),event.preventDefault()})),closemodal.addEventListener("click",(function(){closemodalfunc()})));var delayTimer,mouseovermenu=!1,mouseoversub=!1;function handleAnimationEnd(){subjumbo.classList.replace("hiding","hide"),isClicked={},subjumbo.removeEventListener("animationend",handleAnimationEnd)}function startDelayTimer(){clearTimeout(delayTimer),delayTimer=setTimeout((function(){mouseoversub||mouseovermenu||(subjumbo.addEventListener("animationend",handleAnimationEnd),subjumbo.classList.replace("show","hiding"),handleAnimationEnd())}),200)}menuItems.forEach((menuItem=>{menuItem.addEventListener("touchend",(function(){subjumbo.addEventListener("animationend",(function handleAnimationEnd(){subjumbo.classList.replace("showing","show"),subjumbo.removeEventListener("animationend",handleAnimationEnd)})),subjumbo.classList.replace("hide","showing"),mouseovermenu=!0})),menuItem.addEventListener("mouseover",(function(){subjumbo.addEventListener("animationend",(function handleAnimationEnd(){subjumbo.classList.replace("showing","show"),subjumbo.removeEventListener("animationend",handleAnimationEnd)})),subjumbo.classList.replace("hide","showing"),mouseovermenu=!0})),menuItem.addEventListener("mouseout",(function(){mouseovermenu=!1,startDelayTimer()}))})),jumbo.addEventListener("mouseout",(function(){mouseoversub=!1,startDelayTimer()})),jumbo.addEventListener("mouseover",(function(){mouseoversub=!0}));let jumboHeight=jumbo.clientHeight,startY=0,momentum=0;subjumbo.addEventListener("touchstart",(function(event){subjumbo.classList.replace("show","drag"),startY=event.touches[0].clientY,momentum=0})),subjumbo.addEventListener("touchmove",(function(event){event.preventDefault();const deltaY=event.touches[0].clientY-startY,percent=Math.floor(deltaY/jumboHeight*100);percent>0&&(subjumbo.style.top=Math.min(100,percent)+"%");momentum=deltaY})),subjumbo.addEventListener("touchend",(function(){if(!subjumbo.classList.contains("drag"))return;subjumbo.style.transitionDuration="0.5s",subjumbo.style.top=Math.min(0,0)+"%",parseFloat(subjumbo.style.top)>60||momentum>250?(subjumbo.classList.replace("drag","hide"),isClicked={}):subjumbo.classList.replace("drag","show");setTimeout((()=>{startY=0,momentum=0}),100)}))}}}));

//# sourceMappingURL=mymodal.min.js.map