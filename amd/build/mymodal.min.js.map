{"version":3,"file":"mymodal.min.js","sources":["../src/mymodal.js"],"sourcesContent":["\r\ndefine(['jquery', 'theme_apoa/swiper'], function($, Swiper) {\r\n\r\n  var registereventlisteners = function (){\r\n      const jumbo = document.getElementById('jumbo');\r\n  const subjumbo = document.getElementById('jumbomodal');\r\n  const menuItems = document.querySelectorAll('.sidejumbo-link');\r\n  const swiperpages = document.querySelectorAll('.swiper-slide');\r\n  const closemodal = document.getElementById('closemodal');\r\n  var isClicked = {};\r\n  //var istouchevent = false;\r\n  var mySwiper = new Swiper('.swiper-container', {\r\n    loop: true,\r\n    pagination: {\r\n      div: '.swiper-pagination',\r\n      clickable: true,\r\n    },\r\n    preventClicks: true\r\n  });\r\n\r\n  $('#pagination-0').hover(function() {\r\n    mySwiper.slideToLoop(0); // Go to the first slide (index 0)\r\n  });\r\n\r\n  $('#pagination-1').hover(function() {\r\n    mySwiper.slideToLoop(1); // Go to the second slide (index 1)\r\n  });\r\n\r\n  $('#pagination-2').hover(function() {\r\n    mySwiper.slideToLoop(2); // Go to the third slide (index 2)\r\n  });\r\n\r\n  mySwiper.on('slideChange', function () {\r\n    isClicked ={};\r\n    isClicked[mySwiper.realIndex] = true;\r\n  });\r\n\r\n\r\n/*$('.sidejumbo-link').on('touchstart', function() {\r\n  istouchevent = true;\r\n});\r\n\r\n$('.sidejumbo-link').on('touchend', function(event) {\r\n  istouchevent = false;\r\n  var linkId = $(this).data('link-id');\r\n  var linkAddress = $(this).data('link-address');\r\n  istouchevent = true;\r\n  console.log(doubletapstart);\r\n  event.preventDefault();\r\n  if(Date.now() - doubletapstart < 500){\r\n    window.location.href = linkAddress;\r\n  }\r\n  doubletapstart = Date.now();\r\n  if (isClicked[linkId] == true) {\r\n    // Link is not \"readied\" yet, prevent the default behavior\r\n    window.location.href = linkAddress;\r\n  }\r\n});*/\r\n\r\nvar doubletapstart =0;\r\n\r\n/*$('.sidejumbo-link').on('click', function() {\r\n  var linkAddress = $(this).data('link-address');\r\n    if(Date.now() - doubletapstart < 500){\r\n      window.location.href = linkAddress;\r\n    }\r\n    doubletapstart = Date.now();\r\n    // Link is not \"readied\" yet, prevent the default behavior\r\n    if(!istouchevent){\r\n      window.location.href = linkAddress;\r\n    }\r\n});*/\r\n\r\n\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n   */\r\n  function closemodalfunc() {\r\n    subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n    subjumbo.classList.remove('drag');\r\n    subjumbo.classList.add('hiding');\r\n    subjumbo.classList.remove('show');\r\n    isClicked = {};\r\n\r\n    /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n    function handleAnimationEnd() {\r\n      subjumbo.classList.replace('hiding', 'hide');\r\n      subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n    }\r\n  }\r\n  if(closemodal !== null){\r\n    closemodal.addEventListener('touchstart', function(event) {\r\n      closemodalfunc();\r\n      event.preventDefault();\r\n    });\r\n\r\n    closemodal.addEventListener('click', function() {\r\n      closemodalfunc();\r\n    });\r\n  }\r\n  var mouseovermenu = false;\r\n  var mouseoversub = false;\r\n  var delayTimer;\r\n  var tapstart = false;\r\n  var tapstartX;\r\n  var tapstartY;\r\n  var isTouchDevice = 'ontouchstart' in window || navigator.msMaxTouchPoints;\r\n  swiperpages.forEach(swiperpage => {\r\n    var swiperimg = swiperpage.querySelector('img');\r\n    var swiperlink = swiperpage.querySelector('a');\r\n    var swiperid = swiperpage.getAttribute('data-control-id');\r\n    var query = '[data-link-id=\"' + swiperid + '\"]';\r\n    var swipercontrol = document.querySelector(query);\r\n    if(swipercontrol !== null){\r\n      swiperimg.src = swipercontrol.getAttribute('data-modalimg');\r\n      console.log(swiperimg.src);\r\n      swiperlink.href = swipercontrol.getAttribute('data-link-address');\r\n    }\r\n  });\r\n\r\n  menuItems.forEach(menuItem => {\r\n    if(isTouchDevice !== true){\r\n      console.log(isTouchDevice);\r\n      menuItem.addEventListener('click', function(e) {\r\n        if(tapstart === false){\r\n          window.location.href = e.currentTarget.getAttribute(\"data-link-address\");\r\n        }\r\n      });\r\n    }\r\n    menuItem.addEventListener('touchstart', function(e) {\r\n      tapstart = true;\r\n      var touch = e.touches[0];\r\n      tapstartX= touch.clientX;\r\n      tapstartY = touch.clientY;\r\n    });\r\n    menuItem.addEventListener('touchend', function(e) {\r\n      if(tapstart === true){\r\n        var changedTouch = e.changedTouches[0];\r\n        const diffX = Math.abs(changedTouch.clientX - tapstartX);\r\n        const diffY = Math.abs(changedTouch.clientY - tapstartY);\r\n        let delta = 30;\r\n        console.log(diffX, diffY);\r\n        if (diffX < delta && diffY < delta) {\r\n          tapstart = false;\r\n          console.log(doubletapstart);\r\n          if(Date.now() - doubletapstart < 500){\r\n            console.log(e.currentTarget.getAttribute(\"data-link-address\"));\r\n            window.location.href = e.currentTarget.getAttribute(\"data-link-address\");\r\n          }\r\n          doubletapstart = Date.now();\r\n          subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n          subjumbo.classList.replace('hide', 'showing');\r\n        }\r\n      }\r\n      /**\r\n         * Register event listeners for the subscription toggle.\r\n         */\r\n      function handleAnimationEnd() {\r\n        subjumbo.classList.replace('showing', 'show');\r\n        subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n        mouseovermenu = true;\r\n      }\r\n    });\r\n    menuItem.addEventListener('mouseover', function() {\r\n      subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n      subjumbo.classList.replace('hide', 'showing');\r\n      startDelayTimerOver();\r\n        /**\r\n       * Register event listeners for the subscription toggle.\r\n       */\r\n      function handleAnimationEnd() {\r\n\r\n        subjumbo.classList.replace('showing', 'show');\r\n        subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n      }\r\n\r\n      mouseovermenu = true;\r\n    });\r\n\r\n    menuItem.addEventListener('mouseout', function() {\r\n\r\n      mouseovermenu = false;\r\n      startDelayTimer();\r\n    });\r\n  });\r\n\r\n  jumbo.addEventListener('mouseout', function() {\r\n\r\n    mouseoversub = false;\r\n    startDelayTimer();\r\n  });\r\n\r\n  jumbo.addEventListener('mouseover', function() {\r\n\r\n    mouseoversub = true;\r\n  });\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function handleAnimationEnd() {\r\n\r\n    subjumbo.classList.replace('hiding', 'hide');\r\n    isClicked = {};\r\n    subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function startDelayTimerOver() {\r\n    clearTimeout(delayTimer);\r\n    delayTimer = setTimeout(function() {\r\n      if (!mouseoversub && !mouseovermenu) {\r\n        subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n        subjumbo.classList.replace('hiding', 'show');\r\n\r\n        handleAnimationEnd();\r\n      }\r\n\r\n    }, 200); // Adjust the delay time in milliseconds (e.g., 500ms)\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function startDelayTimer() {\r\n    clearTimeout(delayTimer);\r\n    delayTimer = setTimeout(function() {\r\n      if (!mouseoversub && !mouseovermenu) {\r\n        subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n        subjumbo.classList.replace('show', 'hiding');\r\n\r\n        handleAnimationEnd();\r\n      }\r\n\r\n    }, 200); // Adjust the delay time in milliseconds (e.g., 500ms)\r\n  }\r\n\r\n  let jumboHeight = jumbo.clientHeight;\r\n  let startTop = 0;\r\n  let startY = 0;\r\n  let momentum = 0;\r\n\r\n  subjumbo.addEventListener('touchstart', handleTouchStart);\r\n  subjumbo.addEventListener('touchmove', handleTouchMove);\r\n  subjumbo.addEventListener('touchend', handleTouchEnd);\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     * @param {event} event\r\n     */\r\n  function handleTouchStart(event) {\r\n    subjumbo.classList.replace('show', 'drag');\r\n    startY = event.touches[0].clientY;\r\n\r\n    momentum = 0;\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     * @param {event} event\r\n     */\r\n  function handleTouchMove(event) {\r\n    event.preventDefault();\r\n    const currentY = event.touches[0].clientY;\r\n    const deltaY = currentY - startY;\r\n    const percent = Math.floor((deltaY / jumboHeight) * 100);\r\n\r\n    if (percent > 0) {\r\n      subjumbo.style.top = Math.min(100, percent) + '%';\r\n    }\r\n\r\n    momentum = deltaY;\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function handleTouchEnd() {\r\n    if (!subjumbo.classList.contains('drag')) {\r\n      return;\r\n    }\r\n\r\n    subjumbo.style.transitionDuration = '0.5s';\r\n    subjumbo.style.top = Math.min(startTop, 0) + '%';\r\n\r\n    if (parseFloat(subjumbo.style.top) > 60 || momentum > 250) {\r\n      subjumbo.classList.replace('drag', 'hide');\r\n      isClicked = {};\r\n    } else {\r\n      subjumbo.classList.replace('drag', 'show');\r\n    }\r\n\r\n    setTimeout(() => {\r\n      startY = 0;\r\n      momentum = 0;\r\n    }, 100);\r\n  }\r\n  };\r\n  return {\r\n    init: registereventlisteners\r\n  };\r\n});\r\n"],"names":["define","$","Swiper","init","jumbo","document","getElementById","subjumbo","menuItems","querySelectorAll","swiperpages","closemodal","mySwiper","loop","pagination","div","clickable","preventClicks","hover","slideToLoop","on","realIndex","doubletapstart","closemodalfunc","addEventListener","handleAnimationEnd","classList","replace","removeEventListener","remove","add","event","preventDefault","delayTimer","tapstartX","tapstartY","mouseovermenu","mouseoversub","tapstart","isTouchDevice","window","navigator","msMaxTouchPoints","startDelayTimerOver","clearTimeout","setTimeout","startDelayTimer","forEach","swiperpage","swiperimg","querySelector","swiperlink","query","getAttribute","swipercontrol","src","console","log","href","menuItem","e","location","currentTarget","touch","touches","clientX","clientY","changedTouch","changedTouches","diffX","Math","abs","diffY","delta","Date","now","jumboHeight","clientHeight","startY","momentum","deltaY","percent","floor","style","top","min","contains","transitionDuration","parseFloat"],"mappings":"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"}