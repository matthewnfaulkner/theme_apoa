{"version":3,"file":"mymodal.min.js","sources":["../src/mymodal.js"],"sourcesContent":["\r\ndefine(['jquery', 'theme_apoa/swiper'], function($, Swiper) {\r\n\r\n  var registereventlisteners = function (){\r\n      const jumbo = document.getElementById('jumbo');\r\n  const subjumbo = document.getElementById('jumbomodal');\r\n  const menuItems = document.querySelectorAll('.sidejumboitemcontainer');\r\n  const swiperpages = document.querySelectorAll('.swiper-slide');\r\n  const closemodal = document.getElementById('closemodal');\r\n  var isClicked = {};\r\n  var istouchevent = false;\r\n  var mySwiper = new Swiper('.swiper-container', {\r\n    loop: true,\r\n    pagination: {\r\n      div: '.swiper-pagination',\r\n      clickable: true,\r\n    },\r\n    preventClicks: true\r\n  });\r\n\r\n  $('#pagination-0').hover(function() {\r\n    mySwiper.slideToLoop(0); // Go to the first slide (index 0)\r\n  });\r\n\r\n  $('#pagination-1').hover(function() {\r\n    mySwiper.slideToLoop(1); // Go to the second slide (index 1)\r\n  });\r\n\r\n  $('#pagination-2').hover(function() {\r\n    mySwiper.slideToLoop(2); // Go to the third slide (index 2)\r\n  });\r\n\r\n  mySwiper.on('slideChange', function () {\r\n    isClicked ={};\r\n    isClicked[mySwiper.realIndex] = true;\r\n  });\r\n\r\n\r\n$('.sidejumbo-link').on('touchstart', function() {\r\n  istouchevent = true;\r\n});\r\n\r\n$('.sidejumbo-link').on('touchend', function() {\r\n  istouchevent = false;\r\n  var linkId = $(this).data('link-id');\r\n  var linkAddress = $(this).data('link-address');\r\n  istouchevent = true;\r\n  if (isClicked[linkId] == true) {\r\n    // Link is not \"readied\" yet, prevent the default behavior\r\n    window.location.href = linkAddress;\r\n  }\r\n});\r\n\r\n$('.sidejumbo-link').on('click', function() {\r\n  var linkAddress = $(this).data('link-address');\r\n\r\n    // Link is not \"readied\" yet, prevent the default behavior\r\n    if(!istouchevent){\r\n      window.location.href = linkAddress;\r\n    }\r\n});\r\n\r\n\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function closemodalfunc() {\r\n    subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n    subjumbo.classList.remove('drag');\r\n    subjumbo.classList.add('hiding');\r\n    subjumbo.classList.remove('show');\r\n    isClicked = {};\r\n\r\n    /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n    function handleAnimationEnd() {\r\n      subjumbo.classList.replace('hiding', 'hide');\r\n      subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n    }\r\n  }\r\n  if(closemodal !== null){\r\n    closemodal.addEventListener('touchstart', function(event) {\r\n      closemodalfunc();\r\n      event.preventDefault();\r\n    });\r\n\r\n    closemodal.addEventListener('click', function() {\r\n      closemodalfunc();\r\n    });\r\n  }\r\n  var mouseovermenu = false;\r\n  var mouseoversub = false;\r\n  var delayTimer;\r\n\r\n  swiperpages.forEach(swiperpage => {\r\n    var swiperimg = swiperpage.querySelector('img');\r\n    var swiperlink = swiperpage.querySelector('a');\r\n    var swiperid = swiperpage.getAttribute('data-control-id');\r\n    var query = '[data-link-id=\"' + swiperid + '\"]';\r\n    var swipercontrol = document.querySelector(query);\r\n    if(swipercontrol !== null){\r\n      swiperimg.src = swipercontrol.getAttribute('data-modalimg');\r\n      swiperlink.href = swipercontrol.getAttribute('data-link-address');\r\n    }\r\n  });\r\n\r\n  menuItems.forEach(menuItem => {\r\n    menuItem.addEventListener('touchend', function() {\r\n      subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n      subjumbo.classList.replace('hide', 'showing');\r\n\r\n      /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n      function handleAnimationEnd() {\r\n      subjumbo.classList.replace('showing', 'show');\r\n      subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n      }\r\n\r\n      mouseovermenu = true;\r\n    });\r\n    menuItem.addEventListener('mouseover', function() {\r\n      subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n      subjumbo.classList.replace('hide', 'showing');\r\n      startDelayTimerOver();\r\n        /**\r\n       * Register event listeners for the subscription toggle.\r\n       */\r\n      function handleAnimationEnd() {\r\n\r\n        subjumbo.classList.replace('showing', 'show');\r\n        subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n      }\r\n\r\n      mouseovermenu = true;\r\n    });\r\n\r\n    menuItem.addEventListener('mouseout', function() {\r\n\r\n      mouseovermenu = false;\r\n      startDelayTimer();\r\n    });\r\n  });\r\n\r\n  jumbo.addEventListener('mouseout', function() {\r\n\r\n    mouseoversub = false;\r\n    startDelayTimer();\r\n  });\r\n\r\n  jumbo.addEventListener('mouseover', function() {\r\n\r\n    mouseoversub = true;\r\n  });\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function handleAnimationEnd() {\r\n\r\n    subjumbo.classList.replace('hiding', 'hide');\r\n    isClicked = {};\r\n    subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function startDelayTimerOver() {\r\n    clearTimeout(delayTimer);\r\n    delayTimer = setTimeout(function() {\r\n      if (!mouseoversub && !mouseovermenu) {\r\n        subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n        subjumbo.classList.replace('hiding', 'show');\r\n\r\n        handleAnimationEnd();\r\n      }\r\n\r\n    }, 200); // Adjust the delay time in milliseconds (e.g., 500ms)\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function startDelayTimer() {\r\n    clearTimeout(delayTimer);\r\n    delayTimer = setTimeout(function() {\r\n      if (!mouseoversub && !mouseovermenu) {\r\n        subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n        subjumbo.classList.replace('show', 'hiding');\r\n\r\n        handleAnimationEnd();\r\n      }\r\n\r\n    }, 200); // Adjust the delay time in milliseconds (e.g., 500ms)\r\n  }\r\n\r\n  let jumboHeight = jumbo.clientHeight;\r\n  let startTop = 0;\r\n  let startY = 0;\r\n  let momentum = 0;\r\n\r\n  subjumbo.addEventListener('touchstart', handleTouchStart);\r\n  subjumbo.addEventListener('touchmove', handleTouchMove);\r\n  subjumbo.addEventListener('touchend', handleTouchEnd);\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     * @param {event} event\r\n     */\r\n  function handleTouchStart(event) {\r\n    subjumbo.classList.replace('show', 'drag');\r\n    startY = event.touches[0].clientY;\r\n\r\n    momentum = 0;\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     * @param {event} event\r\n     */\r\n  function handleTouchMove(event) {\r\n    event.preventDefault();\r\n    const currentY = event.touches[0].clientY;\r\n    const deltaY = currentY - startY;\r\n    const percent = Math.floor((deltaY / jumboHeight) * 100);\r\n\r\n    if (percent > 0) {\r\n      subjumbo.style.top = Math.min(100, percent) + '%';\r\n    }\r\n\r\n    momentum = deltaY;\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function handleTouchEnd() {\r\n    if (!subjumbo.classList.contains('drag')) {\r\n      return;\r\n    }\r\n\r\n    subjumbo.style.transitionDuration = '0.5s';\r\n    subjumbo.style.top = Math.min(startTop, 0) + '%';\r\n\r\n    if (parseFloat(subjumbo.style.top) > 60 || momentum > 250) {\r\n      subjumbo.classList.replace('drag', 'hide');\r\n      isClicked = {};\r\n    } else {\r\n      subjumbo.classList.replace('drag', 'show');\r\n    }\r\n\r\n    setTimeout(() => {\r\n      startY = 0;\r\n      momentum = 0;\r\n    }, 100);\r\n  }\r\n  };\r\n  return {\r\n    init: registereventlisteners\r\n  };\r\n});\r\n"],"names":["define","$","Swiper","init","jumbo","document","getElementById","subjumbo","menuItems","querySelectorAll","swiperpages","closemodal","isClicked","istouchevent","mySwiper","loop","pagination","div","clickable","preventClicks","closemodalfunc","addEventListener","handleAnimationEnd","classList","replace","removeEventListener","remove","add","hover","slideToLoop","on","realIndex","linkId","this","data","linkAddress","window","location","href","event","preventDefault","delayTimer","mouseovermenu","mouseoversub","startDelayTimerOver","clearTimeout","setTimeout","startDelayTimer","forEach","swiperpage","swiperimg","querySelector","swiperlink","query","getAttribute","swipercontrol","src","menuItem","jumboHeight","clientHeight","startY","momentum","touches","clientY","deltaY","percent","Math","floor","style","top","min","contains","transitionDuration","parseFloat"],"mappings":"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"}