{"version":3,"file":"mymodal.min.js","sources":["../src/mymodal.js"],"sourcesContent":["\r\ndefine(['jquery'], function($) {\r\n\r\n  var registereventlisteners = function (){\r\n    require(['swiper'] , function(Swiper){\r\n      const jumbo = document.getElementById('jumbo');\r\n  const subjumbo = document.getElementById('jumbomodal');\r\n  const menuItems = document.querySelectorAll('.sidejumboitemcontainer');\r\n  const closemodal = document.getElementById('closemodal');\r\n\r\n  var isClicked = {};\r\n  var istouchevent = false;\r\n\r\n  var mySwiper = new Swiper('.swiper-container', {\r\n    loop: true,\r\n    pagination: {\r\n      div: '.swiper-pagination',\r\n      clickable: true,\r\n    },\r\n    preventClicks: true\r\n  });\r\n\r\n  $('#pagination-0').hover(function() {\r\n    mySwiper.slideToLoop(0); // Go to the first slide (index 0)\r\n  });\r\n\r\n  $('#pagination-1').hover(function() {\r\n    mySwiper.slideToLoop(1); // Go to the second slide (index 1)\r\n  });\r\n\r\n  $('#pagination-2').hover(function() {\r\n    mySwiper.slideToLoop(2); // Go to the third slide (index 2)\r\n  });\r\n\r\n  mySwiper.on('slideChange', function () {\r\n    isClicked ={};\r\n    isClicked[mySwiper.realIndex] = true;\r\n  });\r\n\r\n\r\n$('.sidejumbo-link').on('touchstart', function() {\r\n  istouchevent = true;\r\n});\r\n\r\n$('.sidejumbo-link').on('touchend', function() {\r\n  istouchevent = false;\r\n  var linkId = $(this).data('link-id');\r\n  var linkAddress = $(this).data('link-address');\r\n  istouchevent = true;\r\n  if (isClicked[linkId] == true) {\r\n    // Link is not \"readied\" yet, prevent the default behavior\r\n    window.location.href = linkAddress;\r\n  }\r\n});\r\n\r\n$('.sidejumbo-link').on('click', function() {\r\n  var linkAddress = $(this).data('link-address');\r\n\r\n    // Link is not \"readied\" yet, prevent the default behavior\r\n    if(!istouchevent){\r\n      window.location.href = linkAddress;\r\n    }\r\n});\r\n\r\n\r\n  function closemodalfunc() {\r\n    subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n    subjumbo.classList.remove('drag');\r\n    subjumbo.classList.add('hiding');\r\n    subjumbo.classList.remove('show');\r\n    isClicked = {};\r\n    function handleAnimationEnd() {\r\n      subjumbo.classList.replace('hiding', 'hide');\r\n      subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n    }\r\n  }\r\n  if(closemodal !== null){\r\n    closemodal.addEventListener('touchstart', function(event) {\r\n      closemodalfunc();\r\n      event.preventDefault();\r\n    });\r\n\r\n    closemodal.addEventListener('click', function() {\r\n      closemodalfunc();\r\n    });\r\n  }\r\n  var mouseovermenu = false;\r\n  var mouseoversub = false;\r\n  var delayTimer;\r\n\r\n  menuItems.forEach(menuItem => {\r\n\r\n    menuItem.addEventListener('touchend', function() {\r\n      subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n      subjumbo.classList.replace('hide', 'showing');\r\n      function handleAnimationEnd() {\r\n      subjumbo.classList.replace('showing', 'show');\r\n      subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n      }\r\n\r\n      mouseovermenu = true;\r\n    });\r\n\r\n    menuItem.addEventListener('mouseover', function() {\r\n      subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n      subjumbo.classList.replace('hide', 'showing');\r\n\r\n      function handleAnimationEnd() {\r\n\r\n        subjumbo.classList.replace('showing', 'show');\r\n        subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n      }\r\n\r\n      mouseovermenu = true;\r\n    });\r\n\r\n    menuItem.addEventListener('mouseout', function() {\r\n\r\n      mouseovermenu = false;\r\n      startDelayTimer();\r\n    });\r\n  });\r\n\r\n  jumbo.addEventListener('mouseout', function() {\r\n\r\n    mouseoversub = false;\r\n    startDelayTimer();\r\n  });\r\n\r\n  jumbo.addEventListener('mouseover', function() {\r\n\r\n    mouseoversub = true;\r\n  });\r\n\r\n  function handleAnimationEnd() {\r\n\r\n    subjumbo.classList.replace('hiding', 'hide');\r\n    isClicked = {};\r\n    subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n  }\r\n\r\n  function startDelayTimer() {\r\n    clearTimeout(delayTimer);\r\n    delayTimer = setTimeout(function() {\r\n      if (!mouseoversub && !mouseovermenu) {\r\n        subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n        subjumbo.classList.replace('show', 'hiding');\r\n\r\n        handleAnimationEnd();\r\n      }\r\n\r\n    }, 200); // Adjust the delay time in milliseconds (e.g., 500ms)\r\n  }\r\n\r\n  let jumboHeight = jumbo.clientHeight;\r\n  let startTop = 0;\r\n  let startY = 0;\r\n  let momentum = 0;\r\n\r\n  subjumbo.addEventListener('touchstart', handleTouchStart);\r\n  subjumbo.addEventListener('touchmove', handleTouchMove);\r\n  subjumbo.addEventListener('touchend', handleTouchEnd);\r\n\r\n  function handleTouchStart(event) {\r\n    subjumbo.classList.replace('show', 'drag');\r\n    startY = event.touches[0].clientY;\r\n\r\n    momentum = 0;\r\n  }\r\n\r\n  function handleTouchMove(event) {\r\n    event.preventDefault();\r\n    const currentY = event.touches[0].clientY;\r\n    const deltaY = currentY - startY;\r\n    const percent = Math.floor((deltaY / jumboHeight) * 100);\r\n\r\n    if (percent > 0) {\r\n      subjumbo.style.top = Math.min(100, percent) + '%';\r\n    }\r\n\r\n    momentum = deltaY;\r\n  }\r\n\r\n  function handleTouchEnd() {\r\n    if (!subjumbo.classList.contains('drag')) {\r\n      return;\r\n    }\r\n\r\n    subjumbo.style.transitionDuration = '0.5s';\r\n    subjumbo.style.top = Math.min(startTop, 0) + '%';\r\n\r\n    if (parseFloat(subjumbo.style.top) > 60 || momentum > 250) {\r\n      subjumbo.classList.replace('drag', 'hide');\r\n      isClicked = {};\r\n    } else {\r\n      subjumbo.classList.replace('drag', 'show');\r\n    }\r\n\r\n    setTimeout(() => {\r\n      startY = 0;\r\n      momentum = 0;\r\n    }, 100);\r\n  }\r\n    });\r\n  };\r\n  return {\r\n    init: registereventlisteners\r\n  };\r\n});\r\n"],"names":["define","$","init","require","Swiper","jumbo","document","getElementById","subjumbo","menuItems","querySelectorAll","closemodal","isClicked","istouchevent","mySwiper","loop","pagination","div","clickable","preventClicks","closemodalfunc","addEventListener","handleAnimationEnd","classList","replace","removeEventListener","remove","add","hover","slideToLoop","on","realIndex","linkId","this","data","linkAddress","window","location","href","event","preventDefault","delayTimer","mouseovermenu","mouseoversub","startDelayTimer","clearTimeout","setTimeout","forEach","menuItem","jumboHeight","clientHeight","startY","momentum","touches","clientY","deltaY","percent","Math","floor","style","top","min","contains","transitionDuration","parseFloat"],"mappings":"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"}