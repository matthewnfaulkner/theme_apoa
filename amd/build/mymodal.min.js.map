{"version":3,"file":"mymodal.min.js","sources":["../src/mymodal.js"],"sourcesContent":["\r\ndefine(['jquery', 'theme_apoa/swiper'], function($, Swiper) {\r\n\r\n  var registereventlisteners = function (){\r\n      const jumbo = document.getElementById('jumbo');\r\n  const subjumbo = document.getElementById('jumbomodal');\r\n  const menuItems = document.querySelectorAll('.sidejumboitemcontainer');\r\n  const closemodal = document.getElementById('closemodal');\r\n\r\n  var isClicked = {};\r\n  var istouchevent = false;\r\n  console.log(Swiper);\r\n  var mySwiper = new Swiper('.swiper-container', {\r\n    loop: true,\r\n    pagination: {\r\n      div: '.swiper-pagination',\r\n      clickable: true,\r\n    },\r\n    preventClicks: true\r\n  });\r\n\r\n  $('#pagination-0').hover(function() {\r\n    mySwiper.slideToLoop(0); // Go to the first slide (index 0)\r\n  });\r\n\r\n  $('#pagination-1').hover(function() {\r\n    mySwiper.slideToLoop(1); // Go to the second slide (index 1)\r\n  });\r\n\r\n  $('#pagination-2').hover(function() {\r\n    mySwiper.slideToLoop(2); // Go to the third slide (index 2)\r\n  });\r\n\r\n  mySwiper.on('slideChange', function () {\r\n    isClicked ={};\r\n    isClicked[mySwiper.realIndex] = true;\r\n  });\r\n\r\n\r\n$('.sidejumbo-link').on('touchstart', function() {\r\n  istouchevent = true;\r\n});\r\n\r\n$('.sidejumbo-link').on('touchend', function() {\r\n  istouchevent = false;\r\n  var linkId = $(this).data('link-id');\r\n  var linkAddress = $(this).data('link-address');\r\n  istouchevent = true;\r\n  if (isClicked[linkId] == true) {\r\n    // Link is not \"readied\" yet, prevent the default behavior\r\n    window.location.href = linkAddress;\r\n  }\r\n});\r\n\r\n$('.sidejumbo-link').on('click', function() {\r\n  var linkAddress = $(this).data('link-address');\r\n\r\n    // Link is not \"readied\" yet, prevent the default behavior\r\n    if(!istouchevent){\r\n      window.location.href = linkAddress;\r\n    }\r\n});\r\n\r\n\r\n  function closemodalfunc() {\r\n    subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n    subjumbo.classList.remove('drag');\r\n    subjumbo.classList.add('hiding');\r\n    subjumbo.classList.remove('show');\r\n    isClicked = {};\r\n    function handleAnimationEnd() {\r\n      subjumbo.classList.replace('hiding', 'hide');\r\n      subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n    }\r\n  }\r\n  if(closemodal !== null){\r\n    closemodal.addEventListener('touchstart', function(event) {\r\n      closemodalfunc();\r\n      event.preventDefault();\r\n    });\r\n\r\n    closemodal.addEventListener('click', function() {\r\n      closemodalfunc();\r\n    });\r\n  }\r\n  var mouseovermenu = false;\r\n  var mouseoversub = false;\r\n  var delayTimer;\r\n\r\n  menuItems.forEach(menuItem => {\r\n\r\n    menuItem.addEventListener('touchend', function() {\r\n      subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n      subjumbo.classList.replace('hide', 'showing');\r\n      function handleAnimationEnd() {\r\n      subjumbo.classList.replace('showing', 'show');\r\n      subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n      }\r\n\r\n      mouseovermenu = true;\r\n    });\r\n\r\n    menuItem.addEventListener('mouseover', function() {\r\n      subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n      subjumbo.classList.replace('hide', 'showing');\r\n\r\n      function handleAnimationEnd() {\r\n\r\n        subjumbo.classList.replace('showing', 'show');\r\n        subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n      }\r\n\r\n      mouseovermenu = true;\r\n    });\r\n\r\n    menuItem.addEventListener('mouseout', function() {\r\n\r\n      mouseovermenu = false;\r\n      startDelayTimer();\r\n    });\r\n  });\r\n\r\n  jumbo.addEventListener('mouseout', function() {\r\n\r\n    mouseoversub = false;\r\n    startDelayTimer();\r\n  });\r\n\r\n  jumbo.addEventListener('mouseover', function() {\r\n\r\n    mouseoversub = true;\r\n  });\r\n\r\n  function handleAnimationEnd() {\r\n\r\n    subjumbo.classList.replace('hiding', 'hide');\r\n    isClicked = {};\r\n    subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n  }\r\n\r\n  function startDelayTimer() {\r\n    clearTimeout(delayTimer);\r\n    delayTimer = setTimeout(function() {\r\n      if (!mouseoversub && !mouseovermenu) {\r\n        subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n        subjumbo.classList.replace('show', 'hiding');\r\n\r\n        handleAnimationEnd();\r\n      }\r\n\r\n    }, 200); // Adjust the delay time in milliseconds (e.g., 500ms)\r\n  }\r\n\r\n  let jumboHeight = jumbo.clientHeight;\r\n  let startTop = 0;\r\n  let startY = 0;\r\n  let momentum = 0;\r\n\r\n  subjumbo.addEventListener('touchstart', handleTouchStart);\r\n  subjumbo.addEventListener('touchmove', handleTouchMove);\r\n  subjumbo.addEventListener('touchend', handleTouchEnd);\r\n\r\n  function handleTouchStart(event) {\r\n    subjumbo.classList.replace('show', 'drag');\r\n    startY = event.touches[0].clientY;\r\n\r\n    momentum = 0;\r\n  }\r\n\r\n  function handleTouchMove(event) {\r\n    event.preventDefault();\r\n    const currentY = event.touches[0].clientY;\r\n    const deltaY = currentY - startY;\r\n    const percent = Math.floor((deltaY / jumboHeight) * 100);\r\n\r\n    if (percent > 0) {\r\n      subjumbo.style.top = Math.min(100, percent) + '%';\r\n    }\r\n\r\n    momentum = deltaY;\r\n  }\r\n\r\n  function handleTouchEnd() {\r\n    if (!subjumbo.classList.contains('drag')) {\r\n      return;\r\n    }\r\n\r\n    subjumbo.style.transitionDuration = '0.5s';\r\n    subjumbo.style.top = Math.min(startTop, 0) + '%';\r\n\r\n    if (parseFloat(subjumbo.style.top) > 60 || momentum > 250) {\r\n      subjumbo.classList.replace('drag', 'hide');\r\n      isClicked = {};\r\n    } else {\r\n      subjumbo.classList.replace('drag', 'show');\r\n    }\r\n\r\n    setTimeout(() => {\r\n      startY = 0;\r\n      momentum = 0;\r\n    }, 100);\r\n  }\r\n  };\r\n  return {\r\n    init: registereventlisteners\r\n  };\r\n});\r\n"],"names":["define","$","Swiper","init","jumbo","document","getElementById","subjumbo","menuItems","querySelectorAll","closemodal","isClicked","istouchevent","console","log","mySwiper","loop","pagination","div","clickable","preventClicks","closemodalfunc","addEventListener","handleAnimationEnd","classList","replace","removeEventListener","remove","add","hover","slideToLoop","on","realIndex","linkId","this","data","linkAddress","window","location","href","event","preventDefault","delayTimer","mouseovermenu","mouseoversub","startDelayTimer","clearTimeout","setTimeout","forEach","menuItem","jumboHeight","clientHeight","startY","momentum","touches","clientY","deltaY","percent","Math","floor","style","top","min","contains","transitionDuration","parseFloat"],"mappings":"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"}