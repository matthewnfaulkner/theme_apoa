{"version":3,"file":"mymodal.min.js","sources":["../src/mymodal.js"],"sourcesContent":["\r\ndefine(['jquery', 'theme_apoa/swiper'], function($, Swiper) {\r\n\r\n  var registereventlisteners = function (){\r\n      const jumbo = document.getElementById('jumbo');\r\n  const subjumbo = document.getElementById('jumbomodal');\r\n  const menuItems = document.querySelectorAll('.sidejumbo-link');\r\n  const swiperpages = document.querySelectorAll('.swiper-slide');\r\n  const closemodal = document.getElementById('closemodal');\r\n  var isClicked = {};\r\n  //var istouchevent = false;\r\n  var mySwiper = new Swiper('.swiper-container', {\r\n    loop: true,\r\n    pagination: {\r\n      div: '.swiper-pagination',\r\n      clickable: true,\r\n    },\r\n    preventClicks: true\r\n  });\r\n\r\n  $('#pagination-0').hover(function() {\r\n    mySwiper.slideToLoop(0); // Go to the first slide (index 0)\r\n  });\r\n\r\n  $('#pagination-1').hover(function() {\r\n    mySwiper.slideToLoop(1); // Go to the second slide (index 1)\r\n  });\r\n\r\n  $('#pagination-2').hover(function() {\r\n    mySwiper.slideToLoop(2); // Go to the third slide (index 2)\r\n  });\r\n\r\n  mySwiper.on('slideChange', function () {\r\n    isClicked ={};\r\n    isClicked[mySwiper.realIndex] = true;\r\n  });\r\n\r\n\r\n/*$('.sidejumbo-link').on('touchstart', function() {\r\n  istouchevent = true;\r\n});\r\n\r\n$('.sidejumbo-link').on('touchend', function(event) {\r\n  istouchevent = false;\r\n  var linkId = $(this).data('link-id');\r\n  var linkAddress = $(this).data('link-address');\r\n  istouchevent = true;\r\n  console.log(doubletapstart);\r\n  event.preventDefault();\r\n  if(Date.now() - doubletapstart < 500){\r\n    window.location.href = linkAddress;\r\n  }\r\n  doubletapstart = Date.now();\r\n  if (isClicked[linkId] == true) {\r\n    // Link is not \"readied\" yet, prevent the default behavior\r\n    window.location.href = linkAddress;\r\n  }\r\n});*/\r\n\r\n//var doubletapstart =0;\r\n\r\n/*$('.sidejumbo-link').on('click', function() {\r\n  var linkAddress = $(this).data('link-address');\r\n    if(Date.now() - doubletapstart < 500){\r\n      window.location.href = linkAddress;\r\n    }\r\n    doubletapstart = Date.now();\r\n    // Link is not \"readied\" yet, prevent the default behavior\r\n    if(!istouchevent){\r\n      window.location.href = linkAddress;\r\n    }\r\n});*/\r\n\r\n\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n   */\r\n  function closemodalfunc() {\r\n    subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n    subjumbo.classList.remove('drag');\r\n    subjumbo.classList.add('hiding');\r\n    subjumbo.classList.remove('show');\r\n    isClicked = {};\r\n\r\n    /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n    function handleAnimationEnd() {\r\n      subjumbo.classList.replace('hiding', 'hide');\r\n      subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n    }\r\n  }\r\n  if(closemodal !== null){\r\n    closemodal.addEventListener('touchstart', function(event) {\r\n      closemodalfunc();\r\n      event.preventDefault();\r\n    });\r\n\r\n    closemodal.addEventListener('click', function() {\r\n      closemodalfunc();\r\n    });\r\n  }\r\n  var mouseovermenu = false;\r\n  var mouseoversub = false;\r\n  var delayTimer;\r\n  var tapstart = false;\r\n  var tapstartX;\r\n  var tapstartY;\r\n  var touchedmenuitem;\r\n  var isTouchDevice = 'ontouchstart' in window || navigator.msMaxTouchPoints;\r\n  swiperpages.forEach(swiperpage => {\r\n    var swiperimg = swiperpage.querySelector('img');\r\n    var swiperlink = swiperpage.querySelector('a');\r\n    var swiperid = swiperpage.getAttribute('data-control-id');\r\n    var query = '[data-link-id=\"' + swiperid + '\"]';\r\n    var swipercontrol = document.querySelector(query);\r\n    if(swipercontrol !== null){\r\n      swiperimg.src = swipercontrol.getAttribute('data-modalimg');\r\n      swiperlink.href = swipercontrol.getAttribute('data-link-address');\r\n    }\r\n  });\r\n\r\n  menuItems.forEach(menuItem => {\r\n    if(isTouchDevice !== true){\r\n      menuItem.addEventListener('click', function(e) {\r\n        if(tapstart === false){\r\n          window.location.href = e.currentTarget.getAttribute(\"data-link-address\");\r\n        }\r\n      });\r\n    }\r\n    menuItem.addEventListener('touchstart', function(e) {\r\n      tapstart = true;\r\n      var touch = e.touches[0];\r\n      tapstartX= touch.clientX;\r\n      tapstartY = touch.clientY;\r\n    });\r\n    menuItem.addEventListener('touchend', function(e) {\r\n      if(tapstart === true){\r\n        var changedTouch = e.changedTouches[0];\r\n        const diffX = Math.abs(changedTouch.clientX - tapstartX);\r\n        const diffY = Math.abs(changedTouch.clientY - tapstartY);\r\n        let delta = 30;\r\n        if (diffX < delta && diffY < delta) {\r\n          tapstart = false;\r\n          //window.location.href = e.currentTarget.getAttribute(\"data-link-address\");\r\n          //if(Date.now() - doubletapstart < 500){\r\n            //if(touchedmenuitem == menuItem.id){\r\n              //window.location.href = e.currentTarget.getAttribute(\"data-link-address\");\r\n            //}\r\n          //}\r\n          if(touchedmenuitem == menuItem.getAttribute('data-link-id')){\r\n            window.location.href = e.currentTarget.getAttribute(\"data-link-address\");\r\n          }\r\n          //doubletapstart = Date.now();\r\n          subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n          subjumbo.classList.replace('hide', 'showing');\r\n        }\r\n        touchedmenuitem = menuItem.getAttribute('data-link-id');\r\n      }\r\n      /**\r\n         * Register event listeners for the subscription toggle.\r\n         */\r\n      function handleAnimationEnd() {\r\n        subjumbo.classList.replace('showing', 'show');\r\n        subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n        mouseovermenu = true;\r\n      }\r\n    });\r\n    menuItem.addEventListener('mouseover', function() {\r\n      subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n      subjumbo.classList.replace('hide', 'showing');\r\n      startDelayTimerOver();\r\n        /**\r\n       * Register event listeners for the subscription toggle.\r\n       */\r\n      function handleAnimationEnd() {\r\n\r\n        subjumbo.classList.replace('showing', 'show');\r\n        subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n      }\r\n\r\n      mouseovermenu = true;\r\n    });\r\n\r\n    menuItem.addEventListener('mouseout', function() {\r\n\r\n      mouseovermenu = false;\r\n      startDelayTimer();\r\n    });\r\n  });\r\n\r\n  jumbo.addEventListener('mouseout', function() {\r\n\r\n    mouseoversub = false;\r\n    startDelayTimer();\r\n  });\r\n\r\n  jumbo.addEventListener('mouseover', function() {\r\n\r\n    mouseoversub = true;\r\n  });\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function handleAnimationEnd() {\r\n\r\n    subjumbo.classList.replace('hiding', 'hide');\r\n    isClicked = {};\r\n    subjumbo.removeEventListener('animationend', handleAnimationEnd);\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function startDelayTimerOver() {\r\n    clearTimeout(delayTimer);\r\n    delayTimer = setTimeout(function() {\r\n      if (!mouseoversub && !mouseovermenu) {\r\n        subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n        subjumbo.classList.replace('hiding', 'show');\r\n\r\n        handleAnimationEnd();\r\n      }\r\n\r\n    }, 200); // Adjust the delay time in milliseconds (e.g., 500ms)\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function startDelayTimer() {\r\n    clearTimeout(delayTimer);\r\n    delayTimer = setTimeout(function() {\r\n      if (!mouseoversub && !mouseovermenu) {\r\n        subjumbo.addEventListener('animationend', handleAnimationEnd);\r\n        subjumbo.classList.replace('show', 'hiding');\r\n\r\n        handleAnimationEnd();\r\n      }\r\n\r\n    }, 200); // Adjust the delay time in milliseconds (e.g., 500ms)\r\n  }\r\n\r\n  let jumboHeight = jumbo.clientHeight;\r\n  let startTop = 0;\r\n  let startY = 0;\r\n  let momentum = 0;\r\n\r\n  subjumbo.addEventListener('touchstart', handleTouchStart);\r\n  subjumbo.addEventListener('touchmove', handleTouchMove);\r\n  subjumbo.addEventListener('touchend', handleTouchEnd);\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     * @param {event} event\r\n     */\r\n  function handleTouchStart(event) {\r\n    subjumbo.classList.replace('show', 'drag');\r\n    startY = event.touches[0].clientY;\r\n\r\n    momentum = 0;\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     * @param {event} event\r\n     */\r\n  function handleTouchMove(event) {\r\n    event.preventDefault();\r\n    const currentY = event.touches[0].clientY;\r\n    const deltaY = currentY - startY;\r\n    const percent = Math.floor((deltaY / jumboHeight) * 100);\r\n\r\n    if (percent > 0) {\r\n      subjumbo.style.top = Math.min(100, percent) + '%';\r\n    }\r\n\r\n    momentum = deltaY;\r\n  }\r\n  /**\r\n     * Register event listeners for the subscription toggle.\r\n     */\r\n  function handleTouchEnd() {\r\n    if (!subjumbo.classList.contains('drag')) {\r\n      return;\r\n    }\r\n\r\n    subjumbo.style.transitionDuration = '0.5s';\r\n    subjumbo.style.top = Math.min(startTop, 0) + '%';\r\n\r\n    if (parseFloat(subjumbo.style.top) > 60 || momentum > 250) {\r\n      subjumbo.classList.replace('drag', 'hide');\r\n      isClicked = {};\r\n    } else {\r\n      subjumbo.classList.replace('drag', 'show');\r\n    }\r\n\r\n    setTimeout(() => {\r\n      startY = 0;\r\n      momentum = 0;\r\n    }, 100);\r\n  }\r\n  };\r\n  return {\r\n    init: registereventlisteners\r\n  };\r\n});\r\n"],"names":["define","$","Swiper","init","jumbo","document","getElementById","subjumbo","menuItems","querySelectorAll","swiperpages","closemodal","mySwiper","loop","pagination","div","clickable","preventClicks","closemodalfunc","addEventListener","handleAnimationEnd","classList","replace","removeEventListener","remove","add","hover","slideToLoop","on","realIndex","event","preventDefault","delayTimer","tapstartX","tapstartY","touchedmenuitem","mouseovermenu","mouseoversub","tapstart","isTouchDevice","window","navigator","msMaxTouchPoints","startDelayTimerOver","clearTimeout","setTimeout","startDelayTimer","forEach","swiperpage","swiperimg","querySelector","swiperlink","query","getAttribute","swipercontrol","src","href","menuItem","e","location","currentTarget","touch","touches","clientX","clientY","changedTouch","changedTouches","diffX","Math","abs","diffY","delta","jumboHeight","clientHeight","startY","momentum","deltaY","percent","floor","style","top","min","contains","transitionDuration","parseFloat"],"mappings":"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"}