/**
 * Handle discussion subscription toggling on a discussion list in
 * the forum view.
 *
 * @module     theme_apoa/favourite_toggle
 * @copyright  2019 Peter Dias <peter@moodle.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_apoa/hidewarnings",["core/ajax","core/notification"],(function(Ajax,Notification){return{init:function(name,userid){let query='[data-warning-notification="'+name+'"]',parent=document.querySelector(query),link=parent.querySelector(".dontshowagain");let time=(new Date).getTime();link.addEventListener("click",(e=>{e.preventDefault();let close=parent.querySelector(".close");return Ajax.call([{methodname:"core_user_set_user_preferences",args:{preferences:[{name:name,value:time,userid:userid}]}}])[0].done((function(){close.click()})).fail((function(){Notification.exception(new Error("Failed to set preference"))}))}))}}}));

//# sourceMappingURL=hidewarnings.min.js.map