{"version":3,"file":"view-in-app.min.js","sources":["../src/view-in-app.js"],"sourcesContent":["define(['jquery'], function($) {\r\n\r\n    var registerEventListeners = function(viewInAppElementId) {\r\n        console.log(viewInAppElementId);\r\n        const button = $('#' + viewInAppElementId);\r\n\r\n        button.on('click', function(e) {\r\n            e.preventDefault();\r\n            var start = new Date().getTime();\r\n\r\n            // Always use the original element where the event listener is attached\r\n            const a = $(e.target).closest('button')[0];\r\n            console.log(a);\r\n            const url = a.getAttribute('openAppUrl');\r\n            const alturl = a.getAttribute('openAppUrlAlt');\r\n            console.log(url, alturl);\r\n            window.location.href = url;\r\n\r\n            var timeout = setTimeout(function() {\r\n                var end = new Date().getTime();\r\n                if(end - start < 5000) {\r\n                    window.location.href = alturl;\r\n                }\r\n            });\r\n\r\n            document.addEventListener('visibilitychange', function() {\r\n                if(document.hidden) {\r\n                    clearTimeout(timeout);\r\n                }\r\n            });\r\n        });\r\n\r\n    };\r\n\r\n    return {\r\n        init: registerEventListeners\r\n    };\r\n});\r\n"],"names":["define","$","init","viewInAppElementId","console","log","on","e","preventDefault","start","Date","getTime","a","target","closest","url","getAttribute","alturl","window","location","href","timeout","setTimeout","document","addEventListener","hidden","clearTimeout"],"mappings":"AAAAA,gCAAO,CAAC,WAAW,SAASC,SAkCjB,CACHC,KAjCyB,SAASC,oBAClCC,QAAQC,IAAIF,oBACGF,EAAE,IAAME,oBAEhBG,GAAG,SAAS,SAASC,GACxBA,EAAEC,qBACEC,OAAQ,IAAIC,MAAOC,gBAGjBC,EAAIX,EAAEM,EAAEM,QAAQC,QAAQ,UAAU,GACxCV,QAAQC,IAAIO,SACNG,IAAMH,EAAEI,aAAa,cACrBC,OAASL,EAAEI,aAAa,iBAC9BZ,QAAQC,IAAIU,IAAKE,QACjBC,OAAOC,SAASC,KAAOL,QAEnBM,QAAUC,YAAW,YACX,IAAIZ,MAAOC,UACZF,MAAQ,MACbS,OAAOC,SAASC,KAAOH,WAI/BM,SAASC,iBAAiB,oBAAoB,WACvCD,SAASE,QACRC,aAAaL"}